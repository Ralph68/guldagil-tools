/**
 * Titre: Styles calculateur de frais de port - Version moderne compatible JS 0.5
 * Chemin: /public/port/assets/css/port.css
 * Version: 0.5 beta + build auto
 */

/* ============================= */
/*        VARIABLES CSS          */
/* ============================= */
:root {
    --port-primary: #0066cc;
    --port-primary-hover: #0052a3;
    --port-primary-light: #e6f3ff;

    --port-success: #16a34a;
    --port-warning: #d97706;
    --port-error: #dc2626;
    --port-info: #0284c7;

    --port-gray-50: #fafafa;
    --port-gray-100: #f4f4f5;
    --port-gray-200: #e4e4e7;
    --port-gray-300: #d1d5db;
    --port-gray-400: #9ca3af;
    --port-gray-500: #6b7280;
    --port-gray-600: #4b5563;
    --port-gray-700: #374151;
    --port-gray-800: #1f2937;
    --port-gray-900: #111827;

    --port-background: #fff;
    --port-surface: #fff;
    --port-border: #e5e7eb;

    --port-shadow: rgba(0,0,0,0.08);

    --port-radius-md: 6px;
    --port-radius-lg: 10px;

    --port-space-1: 0.25rem;
    --port-space-2: 0.5rem;
    --port-space-3: 0.75rem;
    --port-space-4: 1rem;
    --port-space-6: 1.5rem;
    --port-space-8: 2rem;
    --port-space-12: 3rem;

    --port-max-width: 1180px;
    --port-form-width: 410px;
}

/* ============================= */
/*         CONTAINER             */
/* ============================= */
.calc-container {
    min-height: 100vh;
    background: var(--port-gray-50);
    padding: var(--port-space-6);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    color: var(--port-gray-900);
}

.calc-main {
    max-width: var(--port-max-width);
    margin: 0 auto;
    display: grid;
    grid-template-columns: var(--port-form-width) 1fr;
    gap: var(--port-space-8);
    align-items: flex-start;
}

@media (max-width: 980px) {
    .calc-main {
        grid-template-columns: 1fr;
        gap: var(--port-space-6);
    }
    .calc-form-panel { position: static; max-height: none; }
}

/* ============================= */
/*       PANNEAUX PRINCIPAUX     */
/* ============================= */
.calc-form-panel, .calc-results-panel {
    background: var(--port-background);
    border-radius: var(--port-radius-lg);
    box-shadow: 0 2px 8px var(--port-shadow);
    border: 1px solid var(--port-border);
    overflow: hidden;
}
.calc-form-panel { position: sticky; top: var(--port-space-6); max-height: calc(100vh - 3rem); overflow-y: auto; }
.calc-results-panel { min-height: 540px; }

@media (max-width: 768px) {
    .calc-container { padding: var(--port-space-2); }
    .calc-form-panel, .calc-results-panel { box-shadow: none; }
}

/* ============================= */
/*         ÉTAPES                */
/* ============================= */
.calc-steps {
    display: flex;
    gap: var(--port-space-1);
    margin-bottom: var(--port-space-6);
    padding: var(--port-space-6) var(--port-space-6) 0;
    border-bottom: 1px solid var(--port-border);
}

.calc-step-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: var(--port-space-3) var(--port-space-4);
    font-weight: 500;
    font-size: 0.95rem;
    color: var(--port-gray-500);
    border-radius: var(--port-radius-md) var(--port-radius-md) 0 0;
    display: flex;
    align-items: center;
    gap: var(--port-space-2);
    margin-bottom: -1px;
    border-bottom: 2px solid transparent;
    transition: color 0.14s;
}
.calc-step-btn.active, .calc-step-btn.completed {
    color: var(--port-primary);
    border-bottom: 2px solid var(--port-primary);
    background: var(--port-background);
    font-weight: 600;
}
.calc-step-btn:focus-visible { outline: 2px solid var(--port-primary); outline-offset: 2px; }
.calc-step-btn.disabled { color: var(--port-gray-400); cursor: default; pointer-events: none; }

/* ============================= */
/*         FORMULAIRE            */
/* ============================= */
.calc-form { margin: 0; }
.calc-form-step { display: none; }
.calc-form-step.active { display: block; animation: fadeIn 0.25s; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.calc-form-content { padding: var(--port-space-6); }
.calc-form-group { margin-bottom: var(--port-space-6); }
.calc-label { font-weight: 500; margin-bottom: var(--port-space-2); display: block; font-size: 0.95rem; color: var(--port-gray-800); }
.calc-input, .calc-select, .calc-textarea {
    width: 100%;
    padding: var(--port-space-3);
    border: 1px solid var(--port-border);
    border-radius: var(--port-radius-md);
    font-size: 0.96rem;
    background: var(--port-background);
    color: var(--port-gray-900);
    transition: border-color 0.13s;
}
.calc-input:focus, .calc-select:focus, .calc-textarea:focus {
    outline: none;
    border-color: var(--port-primary);
    box-shadow: 0 0 0 3px #e6f3ff;
}
.calc-input.error { border-color: var(--port-error); }
.calc-input.valid { border-color: var(--port-success); }
.calc-error-message { color: var(--port-error); font-size: 0.79rem; margin-top: var(--port-space-1);}
.calc-field-hint { color: var(--port-gray-500); font-size: 0.8rem; margin-top: var(--port-space-1); font-style: italic; }
.calc-label-optional { color: var(--port-gray-400); font-weight: normal; margin-left: 0.4em; font-size: 0.9em; }

.calc-form-actions {
    display: flex;
    gap: var(--port-space-4);
    margin-top: var(--port-space-6);
    padding-top: var(--port-space-6);
    border-top: 1px solid var(--port-border);
}

.calc-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--port-space-2);
    padding: var(--port-space-3) var(--port-space-6);
    border: none;
    border-radius: var(--port-radius-md);
    font-weight: 500;
    font-size: 0.96rem;
    cursor: pointer;
    transition: background 0.18s, color 0.18s, transform 0.14s;
    text-decoration: none;
}
.calc-btn-primary { background: var(--port-primary); color: #fff; }
.calc-btn-primary:hover:not(:disabled) { background: var(--port-primary-hover); }
.calc-btn-primary:disabled { background: var(--port-gray-300); cursor: not-allowed; }
.calc-btn-secondary { background: var(--port-gray-100); color: var(--port-gray-900); }
.calc-btn-secondary:hover { background: var(--port-gray-200); }

.calc-toggle-group { display: flex; gap: var(--port-space-2); margin-top: var(--port-space-2); }
.calc-toggle-btn {
    flex: 1;
    padding: var(--port-space-3);
    border: 1px solid var(--port-border);
    background: var(--port-background);
    color: var(--port-gray-600);
    border-radius: var(--port-radius-md);
    cursor: pointer;
    font-size: 0.93rem;
    font-weight: 500;
    transition: border-color 0.15s, background 0.15s, color 0.13s;
}
.calc-toggle-btn:hover { border-color: var(--port-primary); }
.calc-toggle-btn.active {
    background: var(--port-primary);
    color: #fff;
    border-color: var(--port-primary);
}

.calc-form-input.valid { border-color: var(--port-success); }
.calc-form-input.error { border-color: var(--port-error); }

/* ============================= */
/*         ÉTATS VIDES           */
/* ============================= */
.calc-empty-state { text-align: center; padding: var(--port-space-8); color: var(--port-gray-400); }
.calc-empty-icon { font-size: 3rem; margin-bottom: var(--port-space-4);}
.calc-empty-text { font-size: 1.1rem; }

/* ============================= */
/*         RÉSULTATS             */
/* ============================= */
.calc-results-content { padding: var(--port-space-6);}
.calc-results-header {
    margin-bottom: var(--port-space-4);
    padding-bottom: var(--port-space-4);
    border-bottom: 1px solid var(--port-border);
}
.calc-results-title { font-size: 1.2rem; font-weight: 600; color: var(--port-gray-800); margin: 0 0 var(--port-space-2);}
.calc-status { font-size: 0.97rem; font-weight: 500; color: var(--port-gray-500);}
.calc-results .calc-result-card {
    border: 1px solid var(--port-border);
    border-radius: var(--port-radius-lg);
    padding: var(--port-space-6) var(--port-space-4);
    margin-bottom: var(--port-space-4);
    background: var(--port-surface);
    box-shadow: 0 1px 3px var(--port-shadow);
}
.calc-results .calc-result-card h4 { margin: 0 0 var(--port-space-2); color: var(--port-primary);}
.calc-result-price { font-size: 1.5rem; font-weight: 700; color: var(--port-primary);}
.calc-result-delay { font-size: 0.97rem; color: var(--port-gray-600); margin-top: var(--port-space-1);}
.calc-result-error { color: var(--port-error); padding: var(--port-space-4); background: #fef2f2; border-radius: var(--port-radius-md); margin-top: var(--port-space-4);}
.calc-notification {
    position: fixed; top: 20px; right: 20px; min-width: 220px;
    padding: var(--port-space-3) var(--port-space-4);
    border-radius: var(--port-radius-md);
    font-size: 1rem;
    z-index: 9999;
    background: var(--port-info);
    color: #fff;
    font-weight: 600;
    opacity: 0.97;
    box-shadow: 0 2px 8px var(--port-shadow);
    transform: translateX(100%);
    transition: transform 0.3s;
}
.calc-notification-success { background: var(--port-success); }
.calc-notification-error { background: var(--port-error); }
.calc-notification-info { background: var(--port-primary); }

@media (max-width: 640px) {
    .calc-main { grid-template-columns: 1fr; gap: var(--port-space-4);}
    .calc-form-content, .calc-results-content { padding: var(--port-space-2);}
    .calc-results .calc-result-card { padding: var(--port-space-3);}
    .calc-form-panel, .calc-results-panel { border-radius: var(--port-radius-md);}
    .calc-form-actions { flex-direction: column; gap: var(--port-space-2);}
}

@media (prefers-reduced-motion: reduce) {
    * { transition-duration: 0.01ms !important; }
}
